# 제 3장: 정렬 (sort)
## 다양한 정렬 알고리즘
| 정렬 알고리즘 | 특징 |
|---|---|
| • Bubble sort<br>• Insertion sort<br>• Selection sort | simple, slow |
| • Quicksort<br>• Merge sort<br>• Heap sort | fast |
| • Radix sort | O(N) |

## 기본적인 정렬 알고리즘
### 선택 정렬 (selection sort)
- 각 루프마다:
  - 최대 원소를 찾는다
  - 최대 원소와 맨 오른쪽 원소를 교환한다
  - 맨 오른쪽 원소를 (루프의 탐색 범위에서) 제외한다  
→ 하나의 원소만 남을 때까지 위의 루프를 반복

```
selectionSort(A[], n)
{
    for last <- n downto 2    {
        find max A[k] among A[1...last] // 가장 큰 수 A[k]를 찾는다;
        A[k] <-> A[last];  // 교환
    }
}
```
- for 루프는 총 $n-1$회 반복
- 각 루프마다 가장 큰 수를 찾기 위한 비교 횟수: $n-1, n-2, \cdots, 2, 1$
(last개의 수 중에서 최대값을 찾기 위해선 last-1번의 비교가 필요)
- 교환은 상수 작업
→ 시간 복잡도 $T(n) = (n-1) + (n-2) + \cdots + 2 + 1 = \frac{n(n-1)}{2} = O(n^2)$


- 어떤 입력에 대해서도 동일한 작업을 수행하기 때문에 최선, 최악, 평균의 경우를 구분할 필요가 없이 항상 동일한 시간복잡도를 가짐

### 버블 정렬 (bubble sort)
- 기본 아이디어는 selection sort와 유사함: 정렬할 데이터 중에서 가장 큰 값을 찾아 맨 마지막 자리로 옮긴 뒤, 그 데이터는 제외하고 같은 작업을 계속 반복
- **다만,** 최댓값을 찾고 이를 마지막 요소로 만드는 세부적인 방법이 다름
→ 각 루프마다:
  - $i$번째 값을 $i+1$번째 값과 비교한다
  - $i$번째 값이 $i+1$번째 값보다 크다면 두 요소의 위치를 교환한다
  - 맨 오른쪽 원소를 (루프의 탐색 범위에서) 제외한다

```
bubbleSort(A[], n)
{
    for last <- n downto 2    {
        for i <- 1 to last - 1    {
            if (A[i] > A[i+1]) then A[i] <-> A[i+1]
        }
    }
}
```
  
시간 복잡도: $T(n) = (n-1) + (n-2) + \cdots + 2 + 1 = \frac{n(n-1)}{2} = O(n^2)$

### 선택 정렬과 버블 정렬의 비교
두 정렬 방식 모두 **비교** 횟수는 각 루프마다 $n-1, n-2, \cdots, 2, 1$번으로 동일함 **그러나:**
- 선택 정렬은 각 루프마다  $1$회의 **교환**이 일어나는 반면, 버블 정렬은 최대 $n-1, n-2, \cdots, 2, 1$회의 교환이 일어날 수 있음
- **대신,** 버블 정렬의 경우엔 주어진 배열이 이미 정렬되었는지 아닌지를 해당 루프에서 **교환이 한번이라도 일어났는지 여부**를 통해 확인이 가능하며, 정렬을 조기 종료 시킬 수 있음. 따라서 버블 정렬의 경우엔 최선의 경우 시간복잡도가 $O(n)$이 됨.
- 선택 정렬은 교환 횟수가 버블 정렬보다 일반적으로 적은 대신, 배열이 이미 정렬되었는지 감지가 불가능하여 어떤 경우에도 $O(n^2)$의 시간복잡도를 가짐.
  
두 정렬 모두 최악의 경우, 시간복잡도는 O(n^2)으로 동일하지만, 실제 실행시간을 상수 계수까지 비교해본다면 차이가 발생함.

#### 최악의 경우 연산 횟수 비교 

1) $n=1000$

| 구분 | 선택 정렬 | 버블 정렬 | 비율 |
|---|---|---|---|
| **비교 횟수** | $\frac{n(n-1)}{2} = 499,500$ | $\frac{n(n-1)}{2} = 499,500$ | 1:1 |
| **교환 횟수** | $n-1 = 999$ | $\frac{n(n-1)}{2} = 499,500$ | 1:500 |
| **대입 연산** | $3(n-1) = 2,997$ | $\frac{3n(n-1)}{2} = 1,498,500$ | 1:500 |
| **총 연산** | $499,500 + 2,997 \approx 502,000$ | $499,500 + 1,498,500 \approx 2,000,000$ | 1:4 |

2 $n$개 원소

| 구분 | 선택 정렬 | 버블 정렬 |
|---|---|---|
| **비교** | $\frac{n(n-1)}{2}$ | $\frac{n(n-1)}{2}$ |
| **교환** | $n-1$ | $\frac{n(n-1)}{2}$ |
| **대입 연산** | $3(n-1)$ | $\frac{3n(n-1)}{2}$ |
| **총 연산** | $\frac{n(n-1)}{2} + 3(n-1)$ | $\frac{n(n-1)}{2} + \frac{3n(n-1)}{2} = 2n(n-1)$ |

